<!DOCTYPE html>
<html lang="hy">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CARDLAB.AM – GitHub Pages Version</title>
<style>
*{box-sizing:border-box;font-family:Arial,sans-serif;margin:0;padding:0;}
body{background:#f5f5f5;}
header{background:#111;color:#fff;padding:20px;text-align:center;font-size:32px;font-weight:bold;cursor:pointer;}
header:hover{opacity:0.8;}
nav{display:flex;justify-content:center;gap:20px;padding:15px;background:#222;}
nav button{background:#fff;border:none;padding:10px 20px;cursor:pointer;border-radius:4px;font-weight:bold;}
.container{padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:20px;}
.card{background:#fff;border:1px solid #ccc;border-radius:0;overflow:hidden;position:relative;}
.card img,.card video{width:100%;height:320px;object-fit:cover;cursor:pointer;}
.card .desc{padding:10px;}
.order-btn{display:block;text-align:center;background:#111;color:#fff;padding:10px;text-decoration:none;font-weight:bold;}
.delete-btn{background:red;color:#fff;border:none;width:100%;padding:8px;cursor:pointer;display:none;}
.admin-visible .delete-btn{display:block;}
.modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);align-items:center;justify-content:center;z-index:1000;}
.modal-content{background:#fff;padding:10px;max-width:90vw;max-height:90vh;}
.modal-content img,.modal-content video{max-width:100%;max-height:80vh;object-fit:contain;}
#adminToggle{position:fixed;top:20px;right:20px;background:#111;color:#fff;padding:10px 15px;cursor:pointer;z-index:1500;}
#adminPanel{position:fixed;top:60px;right:20px;background:#fff;border:2px solid #111;padding:20px;width:380px;max-height:80vh;overflow-y:auto;display:none;z-index:2000;border-radius:8px;}
#adminPanel h3{margin-top:0;}
#adminPanel input,#adminPanel textarea,#adminPanel select{width:100%;margin-bottom:10px;padding:8px;border-radius:4px;border:1px solid #ccc;}
#adminPanel button{width:100%;padding:10px;font-weight:bold;margin-bottom:8px;}
footer{background:#111;color:#fff;text-align:center;padding:20px;}
footer a{color:#fff;font-weight:bold;}
</style>
</head>
<body>
<header onclick="location.href='index.html'">CARDLAB.AM</header>
<nav>
<button onclick="showCategory('invitation')">Հրավիրատոմսեր</button>
<button onclick="showCategory('card')">Այցեքարտեր</button>
</nav>
<div id="content" class="container"></div>
<div id="adminToggle" onclick="openAdmin()">Admin</div>
<div id="adminPanel">
<h3>Ադմին վահանակ</h3>
<div id="loginDiv">
<input type="password" id="adminPass" placeholder="Password" />
<button onclick="loginAdmin()">Մուտք գործել</button>
</div>
<div id="panelContent" style="display:none;">
<input type="file" id="media" />
<textarea id="desc" placeholder="Նկարագրություն"></textarea>
<select id="type">
<option value="invitation">Հրավիրատոմս</option>
<option value="card">Այցեքարտ</option>
</select>
<button onclick="addItem()">Ավելացնել</button>
<button onclick="closeAdmin()">Փակել</button>
<hr>
<h4>Export / Import Data (GitHub Pages)</h4>
<button onclick="exportData()">Export JSON</button>
<input type="file" id="importFile" onchange="importData(event)" />
</div>
</div>
<div id="modal" class="modal" onclick="closeModal()">
<div class="modal-content" id="modalContent"></div>
</div>
<footer>
Մեր Instagram էջը՝ <a href="https://www.instagram.com/cardlab.am" target="_blank">@cardlab.am</a>
</footer>
<script>
const PASSWORD="Զաքար";
let isAdmin=false;
let items=JSON.parse(localStorage.getItem('items')||'[]');
let currentCategory='invitation';
function save(){localStorage.setItem('items',JSON.stringify(items));}
function showCategory(cat){currentCategory=cat;render();}
function render(){const content=document.getElementById('content');content.innerHTML='';items.filter(i=>i.type===currentCategory).forEach((item,index)=>{
const div=document.createElement('div');div.className='card'+(isAdmin?' admin-visible':'');
let media='';if(item.media.startsWith('data:video')){media=`<video src="${item.media}" muted></video>`;}else{media=`<img src="${item.media}" />`;}
div.innerHTML=`${media}<div class="desc">${item.desc}</div><a class="order-btn" href="https://www.instagram.com/direct/t/17841400000000000" target="_blank">Պատվիրել</a><button class="delete-btn" onclick="deleteItem(${index})">Ջնջել</button>`;
div.querySelector('img,video').onclick=()=>openModal(item);
content.appendChild(div);});}
function openModal(item){const modal=document.getElementById('modal');const mc=document.getElementById('modalContent');mc.innerHTML=item.media.startsWith('data:video')?`<video src="${item.media}" controls autoplay></video>`:`<img src="${item.media}" />`;modal.style.display='flex';}
function closeModal(){document.getElementById('modal').style.display='none';}
function openAdmin(){document.getElementById('adminPanel').style.display='block';isAdmin=false;render();}
function closeAdmin(){document.getElementById('adminPanel').style.display='none';isAdmin=false;document.getElementById('loginDiv').style.display='block';document.getElementById('panelContent').style.display='none';render();}
function loginAdmin(){const pass=document.getElementById('adminPass').value;if(pass===PASSWORD){isAdmin=true;document.getElementById('loginDiv').style.display='none';document.getElementById('panelContent').style.display='block';render();}else{alert('Սխալ գաղտնաբառ');}}
function addItem(){if(!isAdmin){alert('Մուտք պետք է գործել ադմինով');return;}
const file=document.getElementById('media').files[0];
const desc=document.getElementById('desc').value;
const type=document.getElementById('type').value;
if(!file){alert('Ընտրեք ֆայլ');return;}
const reader=new FileReader();reader.onload=()=>{items.push({media:reader.result,desc,type});save();render();};reader.readAsDataURL(file);}
function deleteItem(index){if(!isAdmin)return;items.splice(index,1);save();render();}
function exportData(){const dataStr="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(items));
const dlAnchor=document.createElement('a');dlAnchor.setAttribute('href',dataStr);
dlAnchor.setAttribute('download','cardlab_items.json');dlAnchor.click();}
function importData(event){const file=event.target.files[0];if(!file)return;const reader=new FileReader();reader.onload=function(e){try{items=JSON.parse(e.target.result);save();render();alert('Դեպքեր ներմուծված են');}catch(err){alert('Սխալ JSON')}};reader.readAsText(file);}
render();
</script>
</body>
</html>


